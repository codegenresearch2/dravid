import unittest\\nfrom unittest.mock import patch, MagicMock\\nfrom io import StringIO\\nimport sys\\nfrom drd.cli.monitor.output_monitor import OutputMonitor\\n\\nclass TestOutputMonitor(unittest.TestCase):\\n    def setUp(self):\\n        self.mock_monitor = MagicMock()\\n        self.output_monitor = OutputMonitor(self.mock_monitor)\\n\\n    @patch('select.select')\\n    @patch('time.time')\\n    @patch('drd.cli.monitor.output_monitor.print_info')\\n    @patch('drd.cli.monitor.output_monitor.print_prompt')\\n    def test_idle_state(self, mock_print_prompt, mock_print_info, mock_time, mock_select):\\n        # Setup\\n        self.mock_monitor.should_stop.is_set.side_effect = [False] * 10 + [True]\\n        self.mock_monitor.process.poll.return_value = None\\n        self.mock_monitor.processing_input.is_set.return_value = False\\n        self.mock_monitor.process.stdout = MagicMock()\\n        self.mock_monitor.process.stdout.readline.return_value = ""\\n        mock_select.return_value = ([self.mock_monitor.process.stdout], [], [])\\n        mock_time.side_effect = [0] + [6] * 10  # Simulate time passing\\n\\n        # Capture stdout\\n        captured_output = StringIO()\\n        sys.stdout = captured_output\\n\\n        # Run\\n        self.output_monitor._monitor_output()\\n\\n        # Restore stdout\\n        sys.stdout = sys.__stdout__\\n\\n        # Print captured output\\n        print("Captured output:")\\n        print(captured_output.getvalue())\\n\\n        # Assert\\n        mock_print_prompt.assert_called_once_with(\\"\\nNo more tasks to auto-process. What can I do next?\\")\\n        expected_calls = [\\n            call(\\"\\nAvailable actions:\\"),\\n            call(\\"1. Give a coding instruction to perform\\")\\n            # Add other expected calls here\\n        ]\\n        mock_print_info.assert_has_calls(expected_calls, any_order=True)\\n\\n    def test_check_for_errors(self):\\n        # Setup\\n        error_buffer = ["Error: Test error\\n"]\\n        self.mock_monitor.error_handlers = {\\n            r"Error:": MagicMock()\\n        }\\n\\n        # Run\\n        self.output_monitor._check_for_errors(\\"Error: Test error\\n\", error_buffer)\\n\\n        # Assert\\n        self.mock_monitor.error_handlers[r"Error:"].assert_called_once_with(\\"Error: Test error\\n\", self.mock_monitor)\\n\\nif __name__ == '___main__':\\n    unittest.main()\\n        